# Sprint 5

- структура redux-части проекта для работы с WebSocket

Экран «Лента заказов»:

- отображается по маршруту /feed ;
- доступен всем пользователям;
- обновляется в режиме реального времени, когда авторизованный пользователь создаёт заказ;
- содержит подсчёт стоимости каждого заказа, исходя из стоимости его ингредиентов;
- отображает количество всех заказов, а также количество заказов за день;
- содержит свёрстанные колонки «Готово» и «В работе» с номерами заказов. Разделение между колонками
  производится на основе значения поля status каждого заказа. Каждая из этих колонок содержит в себе не более 10
  записей, иначе — создаётся дополнительная колонка.

Экран «История заказов»:

- отображается по маршруту /profile/orders/
- доступен только авторизованным пользователям;
- обновляется в режиме реального времени и отображает статусы заказов;
- содержит подсчёт стоимости каждого заказа, исходя из стоимости его ингредиентов;
- статусы «Отменён», «Готовится» и «Выполнен» формируются в зависимости от значения поля status каждого заказа.

- При клике по заказу открывается модальное окно с информацией о заказе и происходит переход на маршрут /feed/:id
  или /profile/orders/:id в зависимости от того, на какой странице пользователь кликнул по заказу. При прямом переходе
  на эти маршруты открывается страница заказа.
- Маршрут /profile/orders/:id доступен только авторизированным пользователям.

Работа с WebSocket выполняется верно:

- Сокет-соединение открывается, когда пользователь переходит на экраны «Лента заказов» или «История заказов», и закрывается, когда пользователь покидает их.
- Логика подключения к сокет-соединению, получение сообщений с помощью него и обработка ошибок реализована с использованием библиотеки Redux .
- Написан middleware, который принимает на вход параметр URL сокет-соединения и содержит набор обработчиков событий: onmessage , onclose , onerror , send .
- Для каждого типа события описаны экшены.
- Для работы с WebSocket описано базовое состояние Store и создан редьюсер.
- Конфигурация Store и подключение middleware реализованы верно.
- При подключении к URL добавляется accessToken в query-параметр: `?token=${accessToken}` .
